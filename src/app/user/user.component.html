<div>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div>
      <label>
        Username:
        <input type="text" formControlName="userName" />
        <div
          *ngIf="
            submitted &&
            userForm.controls['userName'].errors &&
            !userForm.controls['userName'].pristine
          "
          class="error-msg"
        >
          <div [hidden]="!userForm.controls['userName'].errors['required']">
            username is required.
          </div>
          <div [hidden]="!userForm.controls['userName'].invalid">
            username is invalid.
          </div>
        </div>
      </label>
    </div>
    <div formGroupName="credentials">
      <label>
        Password:
        <input type="text" formControlName="password" />
        <div
          *ngIf="
            submitted &&
            userForm.get('credentials.password')?.errors &&
            !userForm.get('credentials.password')?.pristine
          "
          class="error-msg"
        >
          <div
            [hidden]="!userForm.get('credentials.password')?.errors?.['required']"
          >
            password is required.
          </div>
          <div [hidden]="!userForm.get('credentials.password')?.invalid">
            password is invalid:
            {{ userForm.get("credentials.password")?.errors?.['password'].rules }}
          </div>
        </div>
      </label>
      <label>
        Email:
        <input type="text" formControlName="email" />
        <div
          *ngIf="
            submitted &&
            userForm.get('credentials.email')?.errors &&
            !userForm.get('credentials.email')?.pristine
          "
          class="error-msg"
        >
          <div
            [hidden]="!userForm.get('credentials.email')?.errors?.['required']"
          >
            email is required.
          </div>
          <div [hidden]="!userForm.get('credentials.email')?.invalid">
            email is invalid:
            {{ userForm.get("credentials.email")?.errors?.['email'].rules }}
          </div>
        </div>
        do
      </label>
    </div>
    <div formGroupName="address">
      <label>
        Street:
        <input type="text" formControlName="street" />
      </label>
      <label>
        Zip:
        <input type="text" formControlName="zip" />
      </label>
      <label>
        City:
        <input type="text" formControlName="city" />
      </label>
    </div>
    <!-- <button type="submit" [disabled]="!userForm.valid">Submit</button> -->
    <button type="submit">Submit</button>
  </form>
  <!-- <button (click)="changeUsername()">click</button> -->
</div>
<!-- <div *ngIf="formValid">
  {{ user.userName }}
  {{ user.email }}
  {{ user.password }}
  {{ user.street }}
  {{ user.zip }}
  {{ user.city }}
</div> -->
